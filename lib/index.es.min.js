import t from"core-js-pure/stable/instance/for-each";import e from"core-js-pure/stable/json/stringify";var r=t,n=e,o="undefined"==typeof window,s="test"===process.env.NODE_ENV,i=function(){function t(t){this.storage=t}var e=t.prototype;return e.get=function(t){var e=this.storage.getItem(t);return e?function(t){if("string"!=typeof t)return;try{return JSON.parse(t)}catch(e){return t}}(e):null},e.set=function(t,e){return this.storage.setItem(t,n(e)),this},e.remove=function(t){return this.storage.removeItem(t),this},e.clear=function(){return this.storage.clear(),this},e.getAll=function(){var t={};return r(this).call(this,(function(e,r){e&&(t[e]=r)})),t},e.forEach=function(t){for(var e=0;this.storage.length>e;e++){var r=this.storage.key(e);if(r)t(r,this.get(r))}},t}();var a={local:o&&!s?null:new i(window.localStorage),session:o&&!s?null:new i(window.sessionStorage)};console.log(process.env.NODE_ENV,"isTest");export{a as Storage};
