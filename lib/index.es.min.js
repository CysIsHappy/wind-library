import t from"core-js-pure/stable/instance/for-each";import r from"core-js-pure/stable/json/stringify";var e=t,n=r,o=function(){function t(t){this.storage=t}var r=t.prototype;return r.get=function(t){var r=this.storage.getItem(t);return r?function(t){if("string"!=typeof t)return;try{return JSON.parse(t)}catch(r){return t}}(r):null},r.set=function(t,r){return this.storage.setItem(t,n(r)),this},r.remove=function(t){return this.storage.removeItem(t),this},r.clear=function(){return this.storage.clear(),this},r.getAll=function(){var t={};return e(this).call(this,(function(r,e){r&&(t[r]=e)})),t},r.forEach=function(t){for(var r=0;this.storage.length>r;r++){var e=this.storage.key(r);if(e)t(e,this.get(e))}},t}();function i(t){if("undefined"==typeof window)throw Error("storage must be web environment");return new o(1===t?window.localStorage:window.sessionStorage)}var s={local:i(1),session:i(2)};export{s as Storage};
