import r from"core-js-pure/stable/instance/for-each";import t from"core-js-pure/stable/json/stringify";import e from"core-js-pure/stable/instance/index-of";import n from"core-js-pure/stable/number/parse-int";import o from"core-js-pure/stable/instance/slice";import s from"core-js-pure/stable/promise";var i=r,a=t,u=function(){function r(r){this.storage=r}var t=r.prototype;return t.get=function(r){var t=this.storage.getItem(r);return t?function(r){if("string"!=typeof r)return;try{return JSON.parse(r)}catch(t){return r}}(t):null},t.set=function(r,t){return this.storage.setItem(r,a(t)),this},t.remove=function(r){return this.storage.removeItem(r),this},t.clear=function(){return this.storage.clear(),this},t.getAll=function(){var r={};return i(this).call(this,(function(t,e){t&&(r[t]=e)})),r},t.forEach=function(r){for(var t=0;this.storage.length>t;t++){var e=this.storage.key(t);if(e)r(e,this.get(e))}},r}();function c(r){if("undefined"==typeof window)throw Error("storage must be web environment!");return new u(1===r?window.localStorage:window.sessionStorage)}var f={local:c(1),session:c(2)},l=e,p=n,m=o,h=function(r){if(-1===l(r).call(r,"-")||10!==r.length)throw Error("birthday params must like 1990-01-01");var t=p(m(r).call(r,5,7)),e=p(m(r).call(r,-2)),n="魔羯水瓶双鱼牡羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯".substr(2*t-([20,19,21,21,21,22,23,23,23,23,22,22][t-1]>e?2:0),2);return n},g=function(r){return/(\.png)|(\.jpe?g)|(\.webp)$/.test(r)},v=function(r){return/(\.mp4)$/.test(r)},w=s;function b(r){var t=new FileReader;return t.readAsText(r),new w((function(r,e){t.onload=function(){var n=t.result;try{var o=JSON.parse(n);r(o)}catch(r){e("JSON Error: "+r)}}}))}export{f as Storage,h as constellation,b as fileToJson,g as isPicture,v as isVideo};
