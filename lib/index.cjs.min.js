"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("core-js-pure/stable/instance/for-each"),t=require("core-js-pure/stable/json/stringify"),r=require("core-js-pure/stable/instance/index-of"),n=require("core-js-pure/stable/number/parse-int"),o=require("core-js-pure/stable/instance/slice"),s=require("core-js-pure/stable/promise");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=i(e),a=i(t),c=i(r),l=i(n),f=i(o),p=i(s),h=u.default,d=a.default,g=function(){function e(e){this.storage=e}var t=e.prototype;return t.get=function(e){var t=this.storage.getItem(e);return t?function(e){if("string"!=typeof e)return;try{return JSON.parse(e)}catch(t){return e}}(t):null},t.set=function(e,t){return this.storage.setItem(e,d(t)),this},t.remove=function(e){return this.storage.removeItem(e),this},t.clear=function(){return this.storage.clear(),this},t.getAll=function(){var e={};return h(this).call(this,(function(t,r){t&&(e[t]=r)})),e},t.forEach=function(e){for(var t=0;this.storage.length>t;t++){var r=this.storage.key(t);if(r)e(r,this.get(r))}},e}();function v(e){if("undefined"==typeof window)throw Error("storage must be web environment!");return new g(1===e?window.localStorage:window.sessionStorage)}var b={local:v(1),session:v(2)},w=c.default,m=l.default,j=f.default,y=p.default;exports.Storage=b,exports.constellation=function(e){if(-1===w(e).call(e,"-")||10!==e.length)throw Error("birthday params must like 1990-01-01");var t=m(j(e).call(e,5,7)),r=m(j(e).call(e,-2)),n="魔羯水瓶双鱼牡羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯".substr(2*t-([20,19,21,21,21,22,23,23,23,23,22,22][t-1]>r?2:0),2);return n},exports.fileToJson=function(e){var t=new FileReader;return t.readAsText(e),new y((function(e,r){t.onload=function(){var n=t.result;try{var o=JSON.parse(n);e(o)}catch(e){r("JSON Error: "+e)}}}))},exports.isPicture=function(e){return/(\.png)|(\.jpe?g)|(\.webp)$/.test(e)},exports.isVideo=function(e){return/(\.mp4)$/.test(e)};
