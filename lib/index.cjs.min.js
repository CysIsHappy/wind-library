"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("core-js-pure/stable/instance/for-each"),e=require("core-js-pure/stable/json/stringify");function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=r(t).default,o=r(e).default,i=function(){function t(t){this.storage=t}var e=t.prototype;return e.get=function(t){var e=this.storage.getItem(t);return e?function(t){if("string"!=typeof t)return;try{return JSON.parse(t)}catch(e){return t}}(e):null},e.set=function(t,e){return this.storage.setItem(t,o(e)),this},e.remove=function(t){return this.storage.removeItem(t),this},e.clear=function(){return this.storage.clear(),this},e.getAll=function(){var t={};return n(this).call(this,(function(e,r){e&&(t[e]=r)})),t},e.forEach=function(t){for(var e=0;this.storage.length>e;e++){var r=this.storage.key(e);if(r)t(r,this.get(r))}},t}();function s(t){if("undefined"==typeof window)throw Error("must be web environment");return new i(1===t?window.localStorage:window.sessionStorage)}var u={local:s(1),session:s(2)};exports.Storage=u;
